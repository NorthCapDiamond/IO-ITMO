# Лабораторная работа 1


**Название:** "Разработка драйверов символьных устройств"

**Вариант №2**

**Цель работы:**
- Получить знания и навыки разработки драйверов символьных устройств для операционной системы Linux.
- Разработать драйвер символьного устройства для операционной системы Linux, создающий символьное устройство /dev/var2. Драйвер должен успешно обрабатывать операции записи и чтения в соответствии с конкретным вариантом задания. При записи в файл символьного устройства текста типа "5+6" должен запоминаться результат операции, таким образом, в данном примере результатом будет 11. Должны поддерживаться операции сложения, вычитания, умножения и деления. Последовательность полученных результатов с момента загрузки модуля ядра должна выводиться при чтении файла. 

## Описание функциональности драйвера
Разработан драйвер символьного устройства для операционной системы Linux, создающий символьное устройство /dev/var2. При записи в файл символьного устройства текста типа “5+6” запоминается результат операции, то есть 11 для данного примера. Поддерживаются операции сложения, вычитания, умножения и деления. Последовательность полученных результатов с момента загрузки модуля ядра выводиться при чтении файла.

## Инструкция по сборке
Сборка выполняется с помощью команды:
```
make run
```
Для обеспечение правильной работы и подключения драйвера были выполнены действия:
```
sudo rmmod ch_drv.ko # если драйвер уже загружен
```
```
sudo insmod ch_drv.ko # для загрузки драйвера
```


## Инструкция пользователя
Для корректной работы с драйвером необходимо использовать данную команду:
```
sudo echo "3+5" > /dev/var2
```
Данная команда позволяет записать в файл драйвера результат выражения, представленного в кавычках.

В кавычках необходимо указать информация такого вида: "число операция число". 

Поддерживаемые операции: +/-*

Некорретный ввод данных обрабатывается программой. Так, Вы не сможете осуществить деление на 0. 

Необходимо помнить о наличии ограничений при использовании драйвера. Буфер драйвер поддерживает 128 операций.

Далее при попытке обращения буфер будет очищен. Вы сможете снова выполнять свои операции.

## Примеры использования
Пример №1:
sudo echo "7-3" > /dev/var2
Результат №1:
4

Пример №2:
sudo echo "8/4" > /dev/var2
Результат №2:
4 2 
